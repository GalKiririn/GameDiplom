
Документация игры "Loop of deapths"

1. Общая информация о проекте

Название игры: Loop of deapths
Жанр: 2D-рогалик, приключение, нарративная головоломка
Платформа: PC (Windows)
Целевая аудитория: 12+, любители рогаликов, нарративных игр и лабиринтов
Описание:
Игра рассказывает о Соласе, бродячем торговце, который очнулся в подземелье после нападения на его караван. Игроку предстоит провести Соласа через 10 уровней-лабиринтов, собирая еду, избегая врагов и раскрывая тайну красного креста. На 5-м уровне появляется Гость, который делится советами и упоминает свой крест, вызывающий дискомфорт. На 9-м уровне игрок может подобрать крест для защиты. Игра включает нарратив, выбор в концовке и сохранения.

Ключевые особенности:
Процедурно генерируемые лабиринты.
Механика еды: сбор (+50), трата (-10 за ход).
Гость: диалог, влияние на концовку.
Красный крест: гудение, защита от врага.
Нарратив: вступление, мысли, диалоги, концовки.
Музыка и звуки с настройкой громкости.
UI: индикаторы, подсказки, меню, настройки.

2. Игровые механики

2.1. Основной геймплей
Цель: Пройти 10 уровней, дойти до выхода (E), сохраняя еду.
Управление: WASD/стрелки (движение), Space (Гость), F (крест), E (выход).
Еда: Начало = 100, сбор = +50, трата = -10 за ход, проигрыш при 0.
Лабиринт: 7x7, 10x10 или 15x15, генерация Recursive Backtracking.
Враги: Движутся к игроку, убивают без креста.
Выход: Нажатие E, подсказка при ≤3 клетках.

2.2. Гость
Появляется на 5-м уровне, если не собрана еда на 2-м.
Диалог (Space): советы, упоминание креста.
Влияет на концовку и крест.

2.3. Красный крест
Появляется на 9-м уровне (если встретил Гостя, видел крест).
Гудение при ≤2 клетках, мерцание, свечение.
Подбор (F): защита от врага, затем уничтожается.
Мысли о звуке (30% шанс).

2.4. Нарратив

Вступление: текст, Space для старта.
Мысли: каждые 5 шагов, о Госте, кресте.
Диалоги: Гость, полезные фразы.
Концовка: текст, выбор (если встретил Гостя), упоминание креста.

2.5. Аудио

Музыка: IntroMusic, LevelMusic, GuestLevelMusic, FinalMusic (fade 1 сек.).
Звуки: foodCollectSound, gameOverSound, crossHumSound, talkSound, footstepSound.
Настройки: громкость шепота, разговора, музыки (≤0.5).

2.6. UI

Индикаторы: еда, день, шаги, пульсация (<40 еды).
Подсказки: текст, пульсация (≤3 клетки).
Нарратив: полноэкранный текст, анимация.
Диалоги: текст, фон, задержка 0.5 сек.
Меню: новая игра, продолжить, настройки.
Переходы: текст "День X завершен".

2.7. Сохранения

Данные: currentDay, food, playerSuccessScore, didNotTakeFoodOnLevel2, hasMetGuest, hasSeenCross, hasCross.
Механизм: PlayerPrefs.

3. Технические требования





Движок: Unity 2022.3 LTS.
Платформы: Windows.
Разрешение: 1280x720.
Ресурсы: Спрайты (32x32 PNG), звуки (WAV), шрифт LiberationSans SDF.
Пакеты: TextMeshPro.

4. Структура проекта

Папки:
Scripts, Sprites, Audio, Prefabs, Fonts, Scenes.

Скрипты:
GameManager.cs
NarrativeManager.cs
PlayerController.cs
CrossSymbolController.cs
UIManager.cs
SettingsManager.cs
GuestController.cs
MazeGenerator.cs
EnemyController.cs
FoodController.cs
LevelTransition.cs

5. Описание скриптов

GameManager.cs: Управляет игрой, уровнями, едой, Гостем, крестом, музыкой, сохранениями.

NarrativeManager.cs: Повествование, диалоги, мысли, концовки.

PlayerController.cs: Движение игрока, взаимодействие с Гостем, крестом, мысли.

CrossSymbolController.cs: Крест (спавн, гудение, мерцание).

UIManager.cs: UI (еда, день, шаги, диалоги, меню).

SettingsManager.cs: Настройки громкости.

GuestController.cs: Гость (спавн, диалог).

MazeGenerator.cs: Генерация лабиринта.

EnemyController.cs: Враги (спавн, движение).

FoodController.cs: Еда (спавн, сбор).

LevelTransition.cs: Анимация переходов.


